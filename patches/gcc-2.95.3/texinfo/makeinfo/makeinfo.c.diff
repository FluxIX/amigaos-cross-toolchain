--- gcc-2.95.3/texinfo/makeinfo/makeinfo.c	Fri May 28 04:10:10 1999
+++ gcc/texinfo/makeinfo/makeinfo.c	Sun Jun 30 16:09:44 2002
@@ -37,11 +37,11 @@
 #include <time.h>
 #endif /* !TM_IN_SYS_TIME */
 
-#ifdef __GNUC__
+#if defined (__GNUC__) && !defined (C_ALLOCA)
 # undef alloca
 # define alloca __builtin_alloca
 #else
-# ifdef HAVE_ALLOCA_H
+# if defined (HAVE_ALLOCA_H) && !defined (C_ALLOCA)
 #  include <alloca.h>
 # else
 #  ifndef _AIX
